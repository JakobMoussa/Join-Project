<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join</title>

    <link rel="icon" type="image/x-icon" href="../assets/icons/flavicon.png" />
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../styles/reset.css">
    <link rel="stylesheet" href="../styles/siderbar.css">
    <link rel="stylesheet" href="../styles/navbar.css">
    <link rel="stylesheet" href="../styles/board.css">
    <link rel="stylesheet" href="../styles/right-content-wrapper.css">
    <link rel="stylesheet" href="../styles/summary.css">
    <link rel="stylesheet" href="../styles/add-task.css">

    <script src="../scripts/api.js"></script>
    <script src="../scripts/board.js"></script>
    <script src="../scripts/templates.js"></script>
    <script src="../scripts/add-task.js"></script>
    <script src="../script.js"></script>
</head>

<body onload="initializeNavbar()">
    <div class="sidebar-wrapper">
        <img class="join-logo" src="../assets/icons/join-dark.svg" alt="join-logo">
        <nav class="nav-wrapper">
            <ul>
                <li class="nav-link">
                    <div class="img-wrapper">
                        <img src="../assets/icons/summary.svg" alt="summary">
                    </div>
                    <a href="summary.html" data-task="navLink">Summary</a>
                </li>
                <li class="nav-link">
                    <div class="img-wrapper">
                        <img src="../assets/icons/add-task.svg" alt="add-task">
                    </div>
                    <a href="add-task.html" data-task="navLink">Add Task</a>
                </li>
                <li class="nav-link selected">
                    <div class="img-wrapper">
                        <img src="../assets/icons/board.svg" alt="board">
                    </div>
                    <a href="board.html" data-task="navLink">Board</a>
                </li>
                <li class="nav-link">
                    <div class="img-wrapper">
                        <img src="../assets/icons/contacts.svg" alt="contacts">
                    </div>
                    <a href="contacts.html" data-task="navLink">Contacts</a>
                </li>
            </ul>
            <ul class="bottom-links">
                <li class="nav-link"><a href="privacy-policy.html" data-task="navLink">Privacy Policy</a></li>
                <li class="nav-link"><a href="legal-notice.html" data-task="navLink">Legal Notice</a></li>
            </ul>
        </nav>
    </div>

    <main id="right-content-wrapper">

        <section id="navbar">
            <nav class="navbar">
                <img class="join-logo-nav" src="../assets/icons/join-logo.svg" alt="join logo">
                <h2>
                    Kanban Project Management Tool
                </h2>
                <div class="nav-imgs">
                    <a href="../html-templates/help.html">
                        <img src="../assets/icons/help.svg" class="help-symbol" alt="help-symbol">
                    </a>
                    <button class="profile-picture" onclick="toggleMenu()"></button>
                </div>
            </nav>
            <div class="menu-container">
                <div class="menu" id="menu">
                    <a href="../html-templates/help.html" class="menu-item help-page">Help</a>
                    <a href="../html-templates/legal-notice.html" class="menu-item">Legal Notice</a>
                    <a href="../html-templates/privacy-policy.html" class="menu-item">Privacy Police</a>
                    <a href="../index.html" class="menu-item">Log out</a>
                </div>
            </div>
        </section>

        <section id="content-wrapper">
            <div class="board-wrapper">
                <header class="board-header">
                    <div class="mobile-header">
                        <h1>Board</h1>
                        <!-- mobile button -->
                        <button class="add-btn add-btn-mobile hidden" id="add-task-btn-mobile"
                            onclick="addTask('to-do')">
                            <span class="add-task-text">Add task</span>
                            <img src="../assets/icons/add.svg" alt="Add" class="add-icon">
                        </button>
                    </div>
                    <div style="display: flex;">
                        <!-- desktop input -->
                        <div class="search-field-wrapper search-field-wrapper-desktop">
                            <input type="search" placeholder="Find Task" id="search-input" class="search-field"
                                oninput="searchTasks()">
                            <span class="search-devider"></span>
                            <img src="../assets/icons/search.svg" alt="Search" class="search-icon">
                        </div>
                        <!-- desktop button -->
                        <button class="add-btn add-btn-desktop" id="add-task-btn" onclick="addTask('to-do')">
                            <span class="add-task-text">Add task</span>
                            <img src="../assets/icons/add.svg" alt="Add" class="add-icon">
                        </button>
                    </div>
                    <!-- mobile input -->
                    <div class="search-field-wrapper search-field-wrapper-mobile hidden">
                        <input type="search" placeholder="Find Task" id="search-input" class="search-field"
                            oninput="searchTasks()">
                        <span class="search-devider"></span>
                        <img src="../assets/icons/search.svg" alt="Search" class="search-icon">
                    </div>
                </header>

                <div class="board">
                    <div class="column" data-task="to-do">
                        <div class="column-header">
                            <h3>To do</h3>
                            <img src="../assets/icons/plus_button.svg" alt="plus-button" onclick="addTask('to-do')">
                        </div>
                        <div class="task-wrapper" ondrop="dropHandler(event, 'to-do')"
                            ondragover="dragoverHandler(event)"></div>
                    </div>

                    <div class="column" data-task="in-progress">
                        <div class="column-header">
                            <h3>In progress</h3>
                            <img src="../assets/icons/plus_button.svg" alt="plus-button"
                                onclick="addTask('in-progress')">
                        </div>
                        <div class="task-wrapper" ondrop="dropHandler(event, 'in-progress')"
                            ondragover="dragoverHandler(event)"></div>
                    </div>

                    <div class="column" data-task="await-feedback">
                        <div class="column-header">
                            <h3>Await feedback</h3>
                            <img src="../assets/icons/plus_button.svg" alt="plus-button"
                                onclick="addTask('await-feedback')">
                        </div>
                        <div class="task-wrapper" ondrop="dropHandler(event, 'await-feedback')"
                            ondragover="dragoverHandler(event)"></div>
                    </div>

                    <div class="column" data-task="done">
                        <div class="column-header">
                            <h3>Done</h3>
                        </div>
                        <div class="task-wrapper" ondrop="dropHandler(event, 'done')"
                            ondragover="dragoverHandler(event)"></div>
                    </div>
                </div>
                <div class="no-results hidden">No tasks found</div>
            </div>
        </section>
    </main>

    <div class="add-task-board d-none" id="add-task-board" onclick="closeAddTask()">
        <div class="task-overlay center_element transit" id="task-overlay" onclick="onclickProtection(event)">
            <h1>Add Task <button class="close-task" onclick="closeAddTask(); resetTaskData()"></button></h1>
            <form class="board-tasks-container" onsubmit="preventFromSubmit(event)">
                <div class="addTask-Container" id="firstBoardAddTask"></div>
                <div class="divider-vertical"></div>
                <div class="addTask-Container" id="secondBoardAddTask"></div>
            </form>
            <div class="task-controls">
                <p><span class="star-important">*</span>This field is required</p>
                <div class="task-control-btns">
                    <button class="btn-clear">
                        Clear
                        <div class="clear-icon"></div>
                    </button>
                    <button class="btn-create" onclick="renderTaskFromBoard()">
                        Create Task
                        <img src="../assets/icons/check.svg" alt="">
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="overlay" class="overlay hidden" onclick="closeOverlay()"></div>
</body>

</html>